!function($){"use strict";var clickPosition={},options=[],defaultOptions={contextMenu:null,contextMenuContent:"",defaultStyle:"jqcontext-menu"};function createConextMenu(id){removeContextMenu(),$('<div id="jqcontext-menu" class="'+options[id].defaultStyle+'">'+options[id].contextMenuContent+"</div>").css({position:"absolute",left:clickPosition.x,top:clickPosition.y,zIndex:10000}).appendTo("body")}function removeContextMenu(){$("#jqcontext-menu").remove()}function buildConextMenu(menu){var contextMenuContent="";return menu&&menu.length&&(contextMenuContent+="<ul>",$.each(menu,function(key,value){contextMenuContent+='<li data-key="'+value.dataKey+'"><i class="'+value.icon+'"></i> <span>'+value.text+"</span></li>",value.subMenu&&value.subMenu.length&&(contextMenuContent+=builMenu(value.subMenu))}),contextMenuContent+="</ul>"),contextMenuContent+""}function builMenu(menu){var contextMenuContent="<ul>";return $.each(menu,function(key,value){contextMenuContent+='<li data-key="'+value.dataKey+'"><i class="'+value.icon+'"> '+value.text+"</i></li>"}),contextMenuContent+="</ul>"}$(document).on("mousedown",function(e){1===e.which&&removeContextMenu()}),$.fn.jqContextMenu=function(customOptions){var _this=$(this),id=_this.attr("id");options[id]=$.extend(!0,{},defaultOptions,customOptions),options[id].contextMenuContent=buildConextMenu(customOptions.contextMenu,id,!1),_this.bind("contextmenu",function(e){e.preventDefault(),clickPosition={x:e.pageX,y:e.pageY},createConextMenu(id)})}}(jQuery);